#pragma once

#include "def.h"

#define PIT_DATAPORT_1 0x40
#define PIT_DATAPORT_2 0x41
#define PIT_DATAPORT_3 0x42
#define PIT_CMDPORT 0x43

#define PIT_CMD_MODE_0 0b00000000 // INTTERRUPT ON TERMINAL COUNT
#define PIT_CMD_MODE_1 0b00000010 // HARDWARE RE-TRIGGERABLE ONE-SHOT
#define PIT_CMD_MODE_2 0b00000100 // RATE GENERTATOR
#define PIT_CMD_MODE_3 0b00000110 // SQUARE WAVE GENERTATOR
#define PIT_CMD_MODE_4 0b00001000 // SOFTWARE TRIGGERED STROBE
#define PIT_CMD_MODE_5 0b00001010 // HARDWARE TRIGGERED STROBE

#define PIT_CMD_ACC_LOW  0b00010000
#define PIT_CMD_ACC_HIGH 0b00100000
#define PIT_CMD_ACC_BOTH 0b00110000

#define PIT_CMD_CH_0 0b00000000 // INT CHANNEL
#define PIT_CMD_CH_1 0b01000000
#define PIT_CMD_CH_2 0b10000000 // SPEAKER CHANNEL

#define PIT_INTERVAL 1193182 // Hz

/* Initialize PIT. */
void pit_init();

/* Get PIT registred time in MS */
uint32 pit_getTime();